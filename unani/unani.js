// ===================================================================================================================
// THIS IS PRODUCT DATA MADE BY "SAIPARSAD"
{
  var unanidata = [
    {
      src: "https://static.oxinis.com/healthmug/image/product/41873-1-200.jpg",
      title: "Hamdard Rogan Baiza Murgh (25ml)",
      tagLine:
        "Rogan Baiza Murgh is Useful in Hair Loss & Premature Greying of Hair",
      price: 35,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/70815-1-200.jpg",
      title: "Hamdard Majun Arad Khurma (1kg)",
      tagLine:
        "Restores energy & improves vitality,physical strength & stamina in men",
      price: 310,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/41874-1-200.jpg",
      title: "Hamdard Rogan Beer Bahuti (10ml)",
      tagLine:
        "Restores energy & improves vitality,physical strength & stamina in men",
      price: 80,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/41819-1-200.jpg",
      title: "Hamdard Matosine Capsule (60caps)",
      tagLine:
        "Restores energy and improves vitality, physical strength and stamina in men",
      price: 138,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/41704-1-200.jpg",
      title: "Hamdard Itrifal Ustukhuddus (150g)",
      tagLine:
        "Itrifal Ustukhuddus Relieves Migraine Headaches & Improves Digestion",
      price: 60,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/41607-1-200.jpg",
      title: "New Shama Zulfi Shampoo (500ml)",
      tagLine:
        "Herbal, Unani product for silky, lustrous and thick hair, targets the problem of early graying of hair  ",
      price: 284,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/42838-1-200.jpg",
      title: "New Shama Depane Tablet (100tab)",
      tagLine:
        "Herbal formulation which is useful for joint pain, swollen joints and Lower backache",
      price: 300,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/41606-1-200.jpg",
      title: "New Shama Zulfi Soap (1pcs)",
      tagLine:
        "Useful in premature greying, hair fall, dandruff also strengthen hair roots",
      price: 42,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/41334-1-200.jpg",
      title: "New Shama Habbe Jadwar (20Pills)",
      tagLine:
        "Good for impotency,premature ejaculation & erectile dysfunction",
      price: 166,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/41601-2-200.jpg",
      title: "New Shama Tiryaq Nazla (125g)",
      tagLine: "Useful in Cough, Catarrh, Sneezing, Cold and Chronic Sinusitis",
      price: 97,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/42498-2-200.jpg",
      title: "Rex Barshasha (60g)",
      tagLine:
        "Good for cold, cough, sleeplessness, buzzing in ears, colic pain & stomach pain",
      price: 380,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/41248-1-200.jpg",
      title: "Rex Health Tonic (500ml)",
      tagLine:
        "Rex Health Tonic Health Tonic Improves Restores Health, Provides Energy &amp; Vitality",
      price: 225,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/41266-2-200.jpg",
      title: "Rex Sharbat Zoofa Murakkab (200ml)",
      tagLine:
        "Useful in phlegmatic cough, dry cough & expels phlegm from the chest",
      price: 126,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/42590-1-200.jpg",
      title: "Rex Rexotone (500ml)",
      tagLine:
        "Useful in general debility, body weakness, fatigue also enhances energy &amp; stamina",
      price: 202,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/42653-1-200.jpg",
      title: "Rex Majun Anjdaan Khas (250g)",
      tagLine:
        "Good for inflammation of prostate, premature ejaculation & strengthens kidney",
      price: 588,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/43641-1-200.jpg",
      title: "Dehlvi Mughalliz Musli (1kg)",
      tagLine:
        "Restores energy and improves vitality, physical strength and stamina in men",
      price: 2601,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/43324-1-200.jpg",
      title: "Dehlvi Gokhru Capsules (60caps)",
      tagLine:
        "Ayurvedic medicine useful in Benign prostatic hyperplasia (BPH) & post-void residual urine and also helpful in various urinary infections",
      price: 148,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/43932-1-200.jpg",
      title: "Dehlvi Thyrocap Capsules (60caps)",
      tagLine:
        "Good for glandular enlargements, maintains thyroxine production & thyroid gland",
      price: 231,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/43642-1-200.jpg",
      title: "Dehlvi Mughalliz Musli (125g)",
      tagLine:
        "Restores energy and improves vitality, physical strength and stamina in men",
      price: 366,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/43314-1-200.jpg",
      title: "Dehlvi Firm Up Capsules (28caps)",
      tagLine:
        "Promote healthy breast tissue development in underdeveloped & sagging breast",
      price: 148,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/6880-1-200.jpg",
      title: "Dawakhana Tibbiya Dimagheen (380g)",
      tagLine:
        "Dimagheen is Good for Mental Fatigue. Improves Memory & Concentration",
      price: 174,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/65607-1-200.jpg",
      title: "Dawakhana Tibbiya Niswani (500ml)",
      tagLine:
        "Tibbiya Niswani is Good for Menstrual Troubles & Swelling of the Uterus",
      price: 295,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/39768-1-200.jpg",
      title: "Dawakhana Tibbiya Payorin Manjan (50g)",
      tagLine: "Herbal formulation for strong teeth and healthy gums",
      price: 49,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/39766-1-200.jpg",
      title: "Dawakhana Tibbiya Niswani (380ml)",
      tagLine:
        "Tibbiya Niswani is Good for Menstrual Troubles & Swelling of the Uterus",
      price: 238,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/39770-1-200.jpg",
      title: "Dawakhana Tibbiya Sharbat Faulad (200ml)",
      tagLine:
        "Good for general debility, improves liver function &amp; also strengthen the digestive system",
      price: 113,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/45067-1-200.jpg",
      title: "Sadar Dawakhana Meda Chatni (125g)",
      tagLine:
        "Diseases of stomach, dyspepsia, gas problem, , stomach pain, stomach weakness, stomachache",
      price: 110,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/45069-1-200.jpg",
      title: "Sadar Dawakhana Mughaliz Jawahari (1kg)",
      tagLine: "Increases Men Sexual Power, Erection, and Sperm count",
      price: 3388,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/39756-1-200.jpg",
      title: "Sadar Dawakhana Sharbat Ikseer E Suaal (200ml)",
      tagLine:
        "Unani formulation for cold & cough and healthy functioning of the body",
      price: 110,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/45017-1-200.jpg",
      title: "Sadar Dawakhana Khamira Marwareed (125g)",
      tagLine:
        "Useful in general debility, Typhoid, chicken pox, small pox & pressure of blood",
      price: 241,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/39752-1-200.jpg",
      title: "Sadar Dawakhana Khamira Nuqra (60g)",
      tagLine:
        "Unani, herbal formulation for worn out brain cells and relieving tension, anxiety etc",
      price: 117,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/140364-1-200.jpg",
      title: "Ekyure Herbals Reroot Capsule (60caps)",
      tagLine:
        "Beneficial in graying of hair,stop hair falls and baldness and Improves scalp health",
      price: 290,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/111898-1-200.jpg",
      title: "Ekyure Herbals Hepkyure Capsule (30caps)",
      tagLine:
        "Protects the liver from chemicals & toxins, promotes appetite and digestion",
      price: 180,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/129830-1-200.jpg",
      title: "Ekyure Herbals B Immune Capsule (60caps)",
      tagLine:
        "Provides care for low immunity, vitamins and minerals to increase body resistance",
      price: 210,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/111549-1-200.jpg",
      title: "Ekyure Herbals B Immune Capsule (60caps)",
      tagLine:
        "Beneficial in angina and obesity, lowers blood pressure and improves digestion",
      price: 474,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/65830-1-200.jpg",
      title: "Ekyure Herbals Majun Dabeedulward (125g)",
      tagLine:
        "Improve liver functions,Improves digestion,Absorption,Appetite,Immunity booster",
      price: 190,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/152412-1-200.jpg",
      title: "Nature & Nurture Sharbat-E-Deenar (200ml)",
      tagLine:
        "Beneficial in liver diseases,indigestion,flatulence and removes constipation.",
      price: 92,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/152411-1-200.jpg",
      title: "Nature & Nurture Sharbat Khaksi (200ml)",
      tagLine: "Useful in measles, chicken pox other viral infections",
      price: 115,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/45269-1-200.jpg",
      title: "Nature & Nurture Safoof E Mohazzil (100g)",
      tagLine: "Regulates & maintains body weight by reducing extra fats",
      price: 131,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/45277-3-200.jpg",
      title: "Nature & Nurture Raughan E Babuna (50ml)",
      tagLine: "Useful in gout, backache, swelling of joints & arthritis",
      price: 64,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/51436-1-200.jpg",
      title: "Nature & Nurture Itrifal E Shahtara (125g)",
      tagLine: "Useful in skin diseases, itching, acne, pimples",
      price: 77,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/43735-1-200.jpg",
      title: "Dehlvi Amber Qurs Alkaleen (200tab)",
      tagLine:
        "Useful in indigestion, hyper-acidity, burning sensation in chest & intestines",
      price: 90,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/100231-1-200.jpg",
      title: "Dehlvi Amber Pyleena Marham (30g)",
      tagLine:
        "Effective for bleeding haemorrhoids, fissures, internal & external piles, pain",
      price: 80,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/43590-1-200.jpg",
      title: "Dehlvi Amber Majun Anjdan (250g)",
      tagLine:
        "Good for spermatorrhoea, enlargement of prostate glands, strengthens kidney",
      price: 708,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/43313-1-200.jpg",
      title: "Dehlvi Amber Femone Jelly (250g)",
      tagLine:
        "Useful in low confidence in female, infertility, vaginal dryness &amp; general debility",
      price: 308,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/43292-1-200.jpg",
      title: "Dehlvi Amber Natural Health Tonic (500ml)",
      tagLine:
        "Improves appetite, digestion, restores health, provides energy & vitality",
      price: 195,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/50636-1-200.jpg",
      title: "Hakim Suleman Khans R Care Majoon (400g)",
      tagLine:
        "Good for asthma, bronchitis, chest tightness, shortness of breath &amp; wheezing sound",
      price: 2000,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/50638-1-200.jpg",
      title: "Hakim Suleman Khans S Care (45caps)",
      tagLine:
        "Herbal, Unani formulation for gout, joints pain and joint swelling",
      price: 1700,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/50634-1-200.jpg",
      title: "Hakim Suleman Khans P Care (45caps)",
      tagLine:
        "P Care is Helpful in Constipation, Liver Problems & Improves Appetite",
      price: 1700,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/50628-1-200.jpg",
      title: "Hakim Suleman Khans H Care Hair Oil (300ml)",
      tagLine: "Good for dandruff,long and lustrous hair",
      price: 750,
    },
    {
      src: "https://static.oxinis.com/healthmug/image/product/155419-1-200.jpg",
      title: "Hakim Suleman Khans Namak Shiv Ranjani (100g)",
      tagLine: "Good for heart and remove fats from arteries",
      price: 3200,
    },
  ];
}

// ====================================================================================================================
// THIS IS PRODUCT MAP , SORT PRODUCT, FILTER PRODUCT AND SEARCH FUNCTION
// MADE BY "SANDEEP YADAV"
{
  localStorage.setItem("unaniproducts", JSON.stringify(unanidata));

  var products = JSON.parse(localStorage.getItem("unaniproducts"));
  displayitem(products);

  //Map products
  function displayitem(products) {
    document.querySelector("#main").innerHTML = "";
    products.map(function (item, index) {
      var card = document.createElement("div");
      card.setAttribute("id", "card");

      var img = document.createElement("img");
      img.setAttribute("src", item.src);

      var title = document.createElement("h3");
      title.innerText = item.title;
      title.setAttribute("id", "title");

      var tagline = document.createElement("p");
      tagline.innerText = item.tagLine;
      tagline.setAttribute("id", "tagline");

      var price = document.createElement("span");
      price.innerText = "₹" + item.price;
      price.setAttribute("id", "price");

      var offprice = document.createElement("span");
      offprice.innerText = "₹" + item.offprice;
      offprice.setAttribute("id", "offprice");

      var discount = document.createElement("span");
      discount.innerText = item.discount + " %";
      discount.setAttribute("id", "discount");

      //popup window
      card.addEventListener("click", function () {
        specific(index);
      });

      card.append(img, title, tagline, price, offprice, discount);
      document.getElementById("main").append(card);

      //hover effect
      card.addEventListener("mouseenter", function () {
        card.style.boxShadow = "rgba(100, 100, 111, 0.2) 0px 7px 29px 0px";
      });

      card.addEventListener("mouseleave", function () {
        card.style.boxShadow = "none";
      });
    });
  }

  //sort Low to High
  document.getElementById("low").addEventListener("click", lowtohigh);
  function lowtohigh() {
    var sortv = document.getElementById("low").value;
    if (sortv == "low") {
      var newsortedArr = products.sort(function (a, b) {
        return a.price - b.price;
      });
      displayitem(newsortedArr);
    } else {
      var newshortedArr =
        JSON.parse(localStorage.getItem("unaniproducts")) || [];
      displayItem(newshortedArr);
    }
  }
  //sort High to Low
  document.getElementById("high").addEventListener("click", hightolow);
  function hightolow() {
    var sortv = document.getElementById("high").value;
    if (sortv == "high") {
      var newshortedArr = products.sort(function (a, b) {
        return b.price - a.price;
      });
      displayitem(newshortedArr);
    } else {
      var newshortedArr =
        JSON.parse(localStorage.getItem("unaniproducts")) || [];
      displayitem(newshortedArr);
    }
  }
  //sort by name
  document.getElementById("name").addEventListener("click", sortname);
  function sortname() {
    var newsortArr = products.sort(function (a, b) {
      var na = a.title.toLowerCase();
      var nb = b.title.toLowerCase();
      if (na < nb) {
        return -1;
      }
      if (na > nb) {
        return 1;
      }
      return 0;
    });
    displayitem(newsortArr);
  }
  //sort by discount
  document.getElementById("dcount").addEventListener("click", sortdiscount);
  function sortdiscount() {
    var newsortArr = products.sort(function (a, b) {
      return b.discount - a.discount;
    });
    displayitem(newsortArr);
  }

  //search in product page === by search button
  document.getElementById("sbtn").addEventListener("click", getInputValue);
  function getInputValue() {
    var inputVal = document.getElementById("search").value.toLowerCase();
    var items = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].title.toLowerCase();
      if (procheck.includes(inputVal)) {
        items.push(products[i]);
      }
    }
    displayitem(items);
  }
  //search in product page === by enter button
  document.getElementById("search").addEventListener("keyup", getprosearch);
  function getprosearch() {
    if (event.keyCode === 13) {
      var inputVal = document.getElementById("search").value.toLowerCase();
      var items = [];
      for (var i = 0; i < products.length; i++) {
        var procheck = products[i].title.toLowerCase();
        if (procheck.includes(inputVal)) {
          items.push(products[i]);
        }
      }
      displayitem(items);
    }
  }

  //filter by type
  function show(ele) {
    var btnValue = ele.innerText.toLowerCase();
    var items = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].title.toLowerCase();
      if (procheck.includes(btnValue)) {
        items.push(products[i]);
      }
    }
    displayitem(items);
  }

  //checkbox sort price
  function getValue(el) {
    var x = el.value;
    console.log(x);
    var below200 = [];
    var item201 = [];
    var item501 = [];
    var above1000 = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].price;
      if (procheck <= x) {
        below200.push(products[i]);
      } else if (procheck >= x && procheck < 501) {
        item201.push(products[i]);
      } else if (procheck >= x && procheck < 1001) {
        item501.push(products[i]);
      } else {
        above1000.push(products[i]);
      }
    }
    if (x == 200) {
      displayitem(below200);
    } else if (x == 201) {
      displayitem(item201);
    } else if (x == 501) {
      displayitem(item501);
    } else {
      displayitem(above1000);
    }
  }

  //checkbox sort brand
  function getbrand(el) {
    var x = el.value.toLowerCase();
    console.log(x);
    var item = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].title.toLowerCase();
      if (procheck.includes(x)) {
        item.push(products[i]);
      }
    }
    displayitem(item);
  }

  //search brand by input
  document.getElementById("srbrand").addEventListener("keyup", getinputbrand);
  function getinputbrand(event) {
    if (event.keyCode === 13) {
      var inputVal = document.getElementById("srbrand").value.toLowerCase();
      var items = [];
      for (var i = 0; i < products.length; i++) {
        var procheck = products[i].title.toLowerCase();
        if (procheck.includes(inputVal)) {
          items.push(products[i]);
        }
      }
      displayitem(items);
    }
  }

  // =============================================================
}
// =======================================================================================================================
// THIS IS NAV BAR FUNCTIONS MADE BY "ADITYA"

{
  var navbar = document.getElementsByClassName("navigation")[0];

  // for fixing scroll of nav bar
  window.onscroll = function () {
    //pageoffset or scroll
    if (window.pageYOffset > 250) {
      {
        navbar.classList.add("scrolled");
        document.getElementsByClassName("navigation_bottom")[0].style.display =
          "none";
      }
    } else {
      navbar.classList.remove("scrolled");
      document.getElementsByClassName("navigation_bottom")[0].style.display =
        "flex";
    }
  };

  //search function

  document.getElementById("searchnav").addEventListener("submit", search);
  //getting data from local storage

  function search(e) {
    e.preventDefault();
    var ser = document.getElementById("searchnav");

    var inputVal = ser.search_input.value;
    var items = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].title.toLowerCase();
      if (procheck.includes(inputVal)) {
        items.push(products[i]);
      }
    }
    displayitem(items);
  }

  //cart

  var cart = JSON.parse(localStorage.getItem("cart")) || [];
  button = document
    .getElementById("side_cart")
    .addEventListener("click", popup);
  document.getElementById("side_cart").addEventListener("click", blur_on);

  function blur_on() {
    document.getElementById("blur_background").style.display = "inline";
  }

  function popup() {
    var shopping = document.getElementById("shopping");
    shopping.style.display = "flex";

    if (cart.length != 0) shopping_cart(cart);
    else {
      document.querySelector("#shopping_cart>tbody").innerHTML =
        "<tr><td colspan='5' id='add_to_cart'><img src='https://static.oxinis.com/healthmug/image/healthmug/cart.jpg' alt='shopping cart'><br><h2>Your Cart is Empty</h2><h3 class='add_some_stuff'>Add Some Stuff</h3><button class='cart_button_color' onclick='cart_close()'><h3>Continue Shopping</h3></button></td></tr>";
      document.getElementById("cart_total_table").style.display = "none";
      document.querySelector(".bottom_shopping_cart_button").style.display =
        "none";
    }
  }

  function shopping_cart(cart) {
    document.querySelector("#shopping_cart>tbody").innerHTML = "";
    cart.map(shopping_health);
    function shopping_health(item, index) {
      var tr = document.createElement("tr");
      var td1 = document.createElement("td");
      td1.textContent = item.title;

      var td2 = document.createElement("td");
      var select = document.createElement("select");
      var option = document.createElement("option");
      var sel = "";
      for (var i = 1; i <= 10; i++) {
        sel = sel + "<option value='" + i + "'>" + i + "</option>";
      }
      select.innerHTML = sel;
      select.onchange = function () {
        sub_total_fun(index);
      };
      select.setAttribute("id", "cart_select" + index);
      td2.append(select);

      var td3 = document.createElement("td");
      td3.textContent = item.offprice;

      var td4 = document.createElement("td");
      //add address of user from local storage
      // td4.textContent=

      var td5 = document.createElement("td");
      td5.textContent = item.offprice;
      var p_close = document.createElement("p");
      p_close.innerHTML = "<i class='fas fa-times'></i>";
      p_close.addEventListener("click", function () {
        cart_delete_object(index);
      });
      p_close.style.display = "inline";
      p_close.style.marginLeft = "20px";
      td5.append(p_close);
      td5.setAttribute("id", "cart_sub_total" + index);
      tr.append(td1, td2, td3, td4, td5);
      document.querySelector("#shopping_cart>tbody").append(tr);
      cart[index]["no_selected"] = 1;
    }
    document.querySelector(".bottom_shopping_cart_button").style.display =
      "flex";
    var total = 0;

    for (i = 0; i < cart.length; i++) {
      total = total + +cart[i].offprice * cart[i].no_selected;
    }
    console.log(total);
    document.getElementById("total_cart").textContent = total;

    document.getElementById("grand_total_cart_td").textContent =
      total >= 500 ? total : total + 50;

    document.getElementById("cart_total_table").style.display = "flex";
    document.getElementById("add_more").textContent =
      "(" + cart.length + " items)";
    localStorage.setItem("cart", JSON.stringify(cart));
    console.log(cart);
  }

  function sub_total_fun(index) {
    cart[index].no_selected = +document.getElementById("cart_select" + index)
      .value;
    localStorage.setItem("cart", JSON.stringify(cart));
    var sub_total =
      +cart[index].offprice *
      +document.getElementById("cart_select" + index).value;
    document.getElementById("cart_sub_total" + index).textContent = sub_total;
    var p_close = document.createElement("p");
    p_close.innerHTML = "<i class='fas fa-times'></i>";
    p_close.addEventListener("click", function () {
      cart_delete_object(index);
    });
    p_close.style.display = "inline";
    p_close.style.marginLeft = "20px";
    document.getElementById("cart_sub_total" + index).append(p_close);

    var total = 0;

    for (i = 0; i < cart.length; i++) {
      total = total + +cart[i].offprice * cart[i].no_selected;
    }
    console.log(total);
    document.getElementById("total_cart").textContent = total;

    document.getElementById("grand_total_cart_td").textContent =
      total >= 500 ? total : total + 50;
  }

  function cart_close() {
    shopping.style.display = "";
    document.getElementById("blur_background").style.display = "none";
  }

  function cart_delete_object(index) {
    console.log("here");
    var new_cart = [];
    for (var i = 0; i < cart.length; i++) {
      if (i != index) new_cart.push(cart[i]);
    }
    cart = new_cart;
    console.log(cart);
    localStorage.setItem("cart", JSON.stringify(cart));
    popup();
  }

  function healthmug_home() {
    window.location.assign("/homepage/homepage.html");
  }

  //popup new window
  var cart = JSON.parse(localStorage.getItem("cart")) || [];
  function specific(index) {
    console.log("here");
    document.getElementById("fildiv").style.display = "none"; //display off
    document.getElementById("productdiv").style.display = "none";
    document.getElementById("popup_main").style.display = "flex";
    document.querySelector("#image_prod>img").src = products[index].src;
    document.querySelector("#prod_details>h2").textContent =
      products[index].title;
    document.querySelector("#prod_details>h3").textContent =
      products[index].tagLine;
    document.querySelector("#real_price").textContent = products[index].price;
    document.querySelectorAll("#prod_details>h2")[1].textContent =
      products[index].offprice;
    document
      .getElementById("add_to_cart_shopping")
      .addEventListener("click", function () {
        cart.push(products[index]);
        blur_on();
        popup();
      });
    console.log(document.querySelector("#prod_details>button"));
    document
      .querySelector("#prod_details>button")
      .addEventListener("click", function () {
        console.log("here");
        buy_now(index);
      });
  }

  function buy_now(index) {
    console.log("here");
    cart.push(products[index]);
    localStorage.setItem("cart", JSON.stringify(cart));
    window.location.assign("checkOut.html");
  }
}

// =======================================================================================================================
// THIS IS NAV BAR FUNCTIONS MADE BY "ADITYA"

{
  var navbar = document.getElementsByClassName("navigation")[0];

  // for fixing scroll of nav bar
  window.onscroll = function () {
    //pageoffset or scroll
    if (window.pageYOffset > 250) {
      {
        navbar.classList.add("scrolled");
        document.getElementsByClassName("navigation_bottom")[0].style.display =
          "none";
      }
    } else {
      navbar.classList.remove("scrolled");
      document.getElementsByClassName("navigation_bottom")[0].style.display =
        "flex";
    }
  };

  //search function

  document.getElementById("searchnav").addEventListener("submit", search);
  //getting data from local storage

  function search(e) {
    e.preventDefault();
    var ser = document.getElementById("searchnav");

    var inputVal = ser.search_input.value;
    var items = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].title.toLowerCase();
      if (procheck.includes(inputVal)) {
        items.push(products[i]);
      }
    }
    displayitem(items);
  }

  //cart

  var cart = JSON.parse(localStorage.getItem("cart")) || [];
  button = document
    .getElementById("side_cart")
    .addEventListener("click", popup);
  document.getElementById("side_cart").addEventListener("click", blur_on);

  function blur_on() {
    document.getElementById("blur_background").style.display = "inline";
  }

  function popup() {
    var shopping = document.getElementById("shopping");
    shopping.style.display = "flex";

    if (cart.length != 0) shopping_cart(cart);
    else {
      document.querySelector("#shopping_cart>tbody").innerHTML =
        "<tr><td colspan='5' id='add_to_cart'><img src='https://static.oxinis.com/healthmug/image/healthmug/cart.jpg' alt='shopping cart'><br><h2>Your Cart is Empty</h2><h3 class='add_some_stuff'>Add Some Stuff</h3><button class='cart_button_color' onclick='cart_close()'><h3>Continue Shopping</h3></button></td></tr>";
      document.getElementById("cart_total_table").style.display = "none";
      document.querySelector(".bottom_shopping_cart_button").style.display =
        "none";
    }
  }

  function shopping_cart(cart) {
    document.querySelector("#shopping_cart>tbody").innerHTML = "";
    cart.map(shopping_health);
    function shopping_health(item, index) {
      var tr = document.createElement("tr");
      var td1 = document.createElement("td");
      td1.textContent = item.title;

      var td2 = document.createElement("td");
      var select = document.createElement("select");
      var option = document.createElement("option");
      var sel = "";
      for (var i = 1; i <= 10; i++) {
        sel = sel + "<option value='" + i + "'>" + i + "</option>";
      }
      select.innerHTML = sel;
      select.onchange = function () {
        sub_total_fun(index);
      };
      select.setAttribute("id", "cart_select" + index);
      td2.append(select);

      var td3 = document.createElement("td");
      td3.textContent = item.offprice;

      var td4 = document.createElement("td");
      //add address of user from local storage
      // td4.textContent=

      var td5 = document.createElement("td");
      td5.textContent = item.offprice;
      var p_close = document.createElement("p");
      p_close.innerHTML = "<i class='fas fa-times'></i>";
      p_close.addEventListener("click", function () {
        cart_delete_object(index);
      });
      p_close.style.display = "inline";
      p_close.style.marginLeft = "20px";
      td5.append(p_close);
      td5.setAttribute("id", "cart_sub_total" + index);
      tr.append(td1, td2, td3, td4, td5);
      document.querySelector("#shopping_cart>tbody").append(tr);
      cart[index]["no_selected"] = 1;
    }
    document.querySelector(".bottom_shopping_cart_button").style.display =
      "flex";
    var total = 0;

    for (i = 0; i < cart.length; i++) {
      total = total + +cart[i].offprice * cart[i].no_selected;
    }
    console.log(total);
    document.getElementById("total_cart").textContent = total;

    document.getElementById("grand_total_cart_td").textContent =
      total >= 500 ? total : total + 50;

    document.getElementById("cart_total_table").style.display = "flex";
    document.getElementById("add_more").textContent =
      "(" + cart.length + " items)";
    localStorage.setItem("cart", JSON.stringify(cart));
    console.log(cart);
  }

  function sub_total_fun(index) {
    cart[index].no_selected = +document.getElementById("cart_select" + index)
      .value;
    localStorage.setItem("cart", JSON.stringify(cart));
    var sub_total =
      +cart[index].offprice *
      +document.getElementById("cart_select" + index).value;
    document.getElementById("cart_sub_total" + index).textContent = sub_total;
    var p_close = document.createElement("p");
    p_close.innerHTML = "<i class='fas fa-times'></i>";
    p_close.addEventListener("click", function () {
      cart_delete_object(index);
    });
    p_close.style.display = "inline";
    p_close.style.marginLeft = "20px";
    document.getElementById("cart_sub_total" + index).append(p_close);

    var total = 0;

    for (i = 0; i < cart.length; i++) {
      total = total + +cart[i].offprice * cart[i].no_selected;
    }
    console.log(total);
    document.getElementById("total_cart").textContent = total;

    document.getElementById("grand_total_cart_td").textContent =
      total >= 500 ? total : total + 50;
  }

  function cart_close() {
    shopping.style.display = "";
    document.getElementById("blur_background").style.display = "none";
  }

  function cart_delete_object(index) {
    console.log("here");
    var new_cart = [];
    for (var i = 0; i < cart.length; i++) {
      if (i != index) new_cart.push(cart[i]);
    }
    cart = new_cart;
    console.log(cart);
    localStorage.setItem("cart", JSON.stringify(cart));
    popup();
  }

  function healthmug_home() {
    window.location.assign("/homepage/homepage.html");
  }

  //popup new window
  var cart = JSON.parse(localStorage.getItem("cart")) || [];
  function specific(index) {
    console.log("here");
    document.getElementById("fildiv").style.display = "none"; //display off
    document.getElementById("productdiv").style.display = "none";
    document.getElementById("popup_main").style.display = "flex";
    document.querySelector("#image_prod>img").src = products[index].src;
    document.querySelector("#prod_details>h2").textContent =
      products[index].title;
    document.querySelector("#prod_details>h3").textContent =
      products[index].tagLine;
    document.querySelector("#real_price").textContent = products[index].price;
    document.querySelectorAll("#prod_details>h2")[1].textContent =
      products[index].offprice;
    document
      .getElementById("add_to_cart_shopping")
      .addEventListener("click", function () {
        cart.push(products[index]);
        blur_on();
        popup();
      });
    console.log(document.querySelector("#prod_details>button"));
    document
      .querySelector("#prod_details>button")
      .addEventListener("click", function () {
        console.log("here");
        buy_now(index);
      });
  }

  function buy_now(index) {
    console.log("here");
    cart.push(products[index]);
    localStorage.setItem("cart", JSON.stringify(cart));
    window.location.assign("checkOut.html");
  }
}

// ===========================================================================================================
// THIS IS SING IN NAD SING UP FUCTIONS
//MADE BY  ADITYA
{
  document.getElementById("login_form").addEventListener("submit", signsuccess);
  document.getElementById("sign_up_form").addEventListener("click", signUp);

  var usersignup = JSON.parse(localStorage.getItem("user_credentials")) || [];

  function signsuccess(e) {
    e.preventDefault();
    var flag = false;
    var email = document.getElementById("hoversignupinput").value;
    console.log(usersignup);

    for (var i = 0; i < usersignup.length; i++) {
      if (usersignup[i].email !== email) flag = false;
      else {
        flag = true;
        break;
      }
    }
    if (flag && usersignup.length > 0) {
      console.log(i);
      document
        .getElementById("login_password_submit")
        .addEventListener("click", function () {
          password(i);
        });
      document.getElementById("login_password").style.display = "block";
    } else {
      console.log("pokeymon");
      document.getElementById("modal-wrapper1").style.display = "block";
    }
  }

  function password(i) {
    if (
      document.getElementById("login_password_input").value ==
      usersignup[i].password
    )
      alert("login successful");
    else {
      alert("login failed!");

      sign_in();
    }
  }

  function signUp(e) {
    e.preventDefault();
    console.log("here");
    var email = document.getElementById("signup_email").value;
    var password = document.getElementById("signup_password").value;
    var mobile = document.getElementById("signup_mobile").value;
    console.log(email, password, mobile);

    var data = {
      email: email,
      password: password,
      mobile: mobile,
    };

    usersignup.push(data);
    console.log(usersignup);
    localStorage.setItem("user_credentials", JSON.stringify(usersignup));
    console.log("sai");
    sign_up_close();
  }

  function sign_in() {
    document.getElementById("modal-wrapper").style.display = "none";
  }
  function sign_up() {
    document.getElementById("modal-wrapper1").style.display = "block";
  }
  function sign_up_close() {
    document.getElementById("modal-wrapper1").style.display = "none";
  }
}

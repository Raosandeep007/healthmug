// ===================================================================================================================
// THIS IS PRODUCT DATA MADE BY "DINESH"
{
  var ayurvedabrandData = [
    // Baidynath
    {
      title: "Baidyanath Bhringrajasava (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/6125-1-400.jpg",
      tagLine:
        "Useful in seasonal cold and viral flu, reduces bloating and helps in digestive process",
      price: 181,
      offprice: 90,
      discount: 50,
    },

    {
      title: "Baidyanath Purnachandra Ras (Ordinary) (40tab)",
      src: "https://static.oxinis.com/healthmug/image/product/5876-2-400.jpg",
      tagLine:
        "Acts well in Sexual Disorders Like Premature Ejaculations, Debility, Helps In Leucorrhea",
      price: 143,
      offprice: 71,
      discount: 50,
    },

    {
      title: "Baidyanath Chandraprabha Bati (80tab)",
      src: "https://static.oxinis.com/healthmug/image/product/5958-8-400.jpg",
      tagLine:
        "For urinary tract disorders like (UTI), any bladder-related issues, muscle and joint pain and general weakness.",
      price: 135,
      offprice: 121,
      discount: 10,
    },

    {
      title: "Baidyanath Kanchnar Guggulu (80tab)",
      src: "https://static.oxinis.com/healthmug/image/product/6001-5-400.jpg",
      tagLine:
        "For Thyroid Problems, Glandular Swellings, Skin Diseases, Sinuses, Fistula.",
      price: 116,
      offprice: 105,
      discount: 10,
    },

    {
      title: "Baidyanath Puspadhanwa Ras (5g)",
      src: "https://static.oxinis.com/healthmug/image/product/5812-2-400.jpg",
      tagLine:
        "For Lack of Vitality and Reproductive Disorders in Male and Female.",
      price: 208,
      offprice: 52,
      discount: 75,
    },

    //Dabur
    {
      title: "Dabur Triphala Tablets (60tab)",
      src: "https://static.oxinis.com/healthmug/image/product/5718-2-400.jpg",
      tagLine:
        "Ayurvedic powdered formulation for a healthy gut, overall well being etc",
      price: 74,
      offprice: 37,
      discount: 50,
    },

    {
      title: "Dabur Arjun Chhal Churna (100g)",
      src: "https://static.oxinis.com/healthmug/image/product/128831-1-400.jpg",
      tagLine:
        "It helps in keeping the heart muscles healthy and strong and may give relief from excessive thirst",
      price: 80,
      offprice: 72,
      discount: 10,
    },

    {
      title: "Dabur Mulethi (Yashtimadhu) Churna (100g)",
      src: "https://static.oxinis.com/healthmug/image/product/129764-2-400.jpg",
      tagLine: "Assists in managing various respiratory and digestive ailments",
      price: 80,
      offprice: 40,
      discount: 50,
    },

    {
      title: "Dabur Erand Tail (Castor Oil) (100ml)",
      src: "https://static.oxinis.com/healthmug/image/product/60559-1-400.jpg",
      tagLine:
        "Erand taila(oil) or castor oil is very good for skin, hair and treating chronic constipation",
      price: 108,
      offprice: 27,
      discount: 75,
    },

    {
      title: "Dabur Jatyadi Tail (50ml)",
      src: "https://static.oxinis.com/healthmug/image/product/64778-1-400.jpg",
      tagLine:
        "Dabur Jatyadi Tail is a herbal formulation that is used for healing in blisters, sinuses and non healing wounds",
      price: 124,
      offprice: 124,
      discount: 0,
    },

    // Unjha

    {
      title: "Unjha Bilwasav (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/130156-3-400.jpg",
      tagLine: "For helping with indigestion and dysentery",
      price: 165,
      offprice: 82,
      discount: 50,
    },

    {
      title: "Unjha Pushpadhanwa Ras (80tab)",
      src: "https://static.oxinis.com/healthmug/image/product/54580-1-400.jpg",
      tagLine:
        "Helps in both Male and Female Debilities, Restores Energy and Stamina",
      price: 350,
      offprice: 349,
      discount: 0,
    },

    {
      title: "Unjha Arogyavardhini Rasa (40tab)",
      src: "https://static.oxinis.com/healthmug/image/product/11740-1-400.jpg",
      tagLine:
        "Fatty Liver, Jaundice, Hepatitis, Cirrhosis, Constipation, Indigestion, Skin Disorders",
      price: 78,
      offprice: 78,
      discount: 0,
    },

    {
      title: "Unjha Navratna Ras (Gold Coated) (30tab)",
      src: "https://static.oxinis.com/healthmug/image/product/11596-2-400.jpg",
      tagLine:
        "Ayurvedic formulation that is highly beneficial and addresses the ailments like osteoporosis, kinds of bone degenerative diseases, and general debility",
      price: 795,
      offprice: 711,
      discount: 10,
    },
    {
      title: "Unjha Kanth Sudharak Vati (10g)",
      src: "https://static.oxinis.com/healthmug/image/product/6881-2-400.jpg",
      tagLine:
        "Effective In Sore Throat, Cough And Hoarseness, Impaired Taste In Mouth, Bad Breath",
      price: 80,
      offprice: 20,
      discount: 75,
    },

    // Himalaya

    {
      title: "Himalaya Ashwagandha Tablet (60tab)",
      src: "https://static.oxinis.com/healthmug/image/product/3263-2-400.jpg",
      tagLine:
        "Remedy for nerves, mind and body's weakness, for body's defense mechanism.",
      price: 165,
      offprice: 165,
      discount: 0,
    },

    {
      title: "Himalaya Vrikshamla Tablet (60tab)",
      src: "https://static.oxinis.com/healthmug/image/product/72477-1-400.jpg",
      tagLine: "",
      price: 185,
      offprice: 185,
      discount: 0,
    },

    {
      title: "Himalaya Cystone Tablet (60tab)",
      src: "https://static.oxinis.com/healthmug/image/product/3123-1-400.jpg",
      tagLine:
        "Expels Renal Calculi, Control High Uric Acid, Urinary Track Infection (UTI)",
      price: 135,
      offprice: 67,
      discount: 50,
    },

    {
      title: "Himalaya Himcocid Suspension (Mint) (200ml)",
      src: "https://static.oxinis.com/healthmug/image/product/3139-1-400.jpg",
      tagLine:
        "Relief from indigestion Acidity and Epigastric Pains, Peptic Ulcers, Acid Reflux, Heartburn",
      price: 105,
      offprice: 103,
      discount: 2,
    },

    {
      title: "Himalaya Liv 52 Tablet (100tab)",
      src: "https://static.oxinis.com/healthmug/image/product/3148-1-400.jpg",
      tagLine:
        "Ayurveda for Liver Ailments, Loss of Appetite, Jaundice, Indigestion",
      price: 120,
      offprice: 108,
      discount: 10,
    },

    //Nagarjuna

    {
      title: "Nagarjun Varunadi Kashaya (200ml)",
      src: "https://static.oxinis.com/healthmug/image/product/6898-1-400.jpg",
      tagLine:
        "Varanadi kashayam is an Ayurvedic liquid herbal medicine used in the treatment of headache, obesity and low digestion strength.",
      price: 125,
      offprice: 125,
      discount: 0,
    },

    {
      title: "Nagarjun Brihat Vasavaleh (400g)",
      src: "https://static.oxinis.com/healthmug/image/product/51028-1-400.jpg",
      tagLine:
        "For Productive Cough, Cold, Bronchitis, Asthma and Respiratory Problems.",
      price: 255,
      offprice: 254,
      discount: 0,
    },

    {
      title: "Nagarjun Ashmarihar Kashaya (200ml)",
      src: "https://static.oxinis.com/healthmug/image/product/12118-1-400.jpg",
      tagLine: "Useful in Renal Calculi, with Pain and Difficult Urination.",
      price: 1200,
      offprice: 1188,
      discount: 10,
    },
    {
      title: "Nagarjun Kauch Pak (400g)",
      src: "https://static.oxinis.com/healthmug/image/product/12114-1-400.jpg",
      tagLine:
        "Male Tonic, Improve Sperm Thickness, Useful in Early Ejaculation and Weakness.",
      price: 355,
      offprice: 354,
      discount: 0,
    },

    {
      title: "Nagarjun Marichyadi Tailam (100ml)",
      src: "https://static.oxinis.com/healthmug/image/product/12096-1-400.jpghttps://static.oxinis.com/healthmug/image/product/12096-1-400.jpg",
      tagLine:
        "Useful in Skin Diseases, Scabies, Psoriasis, Acne, Ulcers, Septic Wounds.",
      price: 160,
      offprice: 80,
      discount: 50,
    },

    // Dhootpapeshwar

    {
      title: "Dhootapapeshwar Punarnavasava (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/44447-1-400.jpg",
      tagLine:
        "Punarnavasava is for liver disorders, jaundice, anaemia, fatty liver, gastrointestinal diseases and obesity.",
      price: 149,
      offprice: 75,
      discount: 50,
    },

    {
      title: "Dhootapapeshwar Ashwagandharishta (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/44298-1-400.jpg",
      tagLine:
        "Ashwagandharishta is a herbal ayurvedic yonic for weakness, nervous debility, sleeplessness and improves memory",
      price: 206,
      offprice: 103,
      discount: 50,
    },

    {
      title: "Dhootapapeshwar Saraswatarishta (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/44476-1-400.jpg",
      tagLine:
        "Indicated In memory weakness, insomina, stress, diseases related to brain",
      price: 200,
      offprice: 180,
      discount: 20,
    },

    {
      title: "Dhootapapeshwar Gokshuradi Guggul (60tab)",
      src: "https://static.oxinis.com/healthmug/image/product/44344-1-400.jpg",
      tagLine:
        "Indicated to Relives pain, Gout, kidney stone, prostate related problems, urinary disorders.",
      price: 157,
      offprice: 157,
      discount: 0,
    },

    {
      title: "Dhootapapeshwar Abhayarishta (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/44277-1-400.jpg",
      tagLine:
        "Useful in Constipation, Piles (Painful and Bleeding), Haemorrhoids, Fissures",
      price: 162,
      offprice: 81,
      discount: 50,
    },

    // Baidynath Nagpur

    {
      title: "Baidyanath (Nagpur) Mahamanjisthadi Kadha (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/136230-1-400.jpg",
      tagLine:
        "Useful in skin diseases, acne and pimples, inflammation, redness and skin rashes.",
      price: 250,
      offprice: 225,
      discount: 10,
    },

    {
      title: "Baidyanath (Nagpur) Abhayarishta (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/136167-1-400.jpg",
      tagLine:
        "Useful for piles and Aids to relief constipation and other digestive problems",
      price: 185,
      offprice: 167,
      discount: 10,
    },

    {
      title: "Baidyanath (Nagpur) Chandraprabha Bati (80tab)",
      src: "https://static.oxinis.com/healthmug/image/product/136205-1-400.jpg",
      tagLine:
        "Useful in urinary problems as well as aids in menstural disorders and STDs",
      price: 135,
      offprice: 122,
      discount: 10,
    },

    {
      title: "Baidyanath (Nagpur) Maharasnadi Kadha (200ml)",
      src: "https://static.oxinis.com/healthmug/image/product/136234-1-400.jpg",
      tagLine:
        "Used in rheumatism, sciatica, lumbago and difficulty in movemnet of joints, muscle stiffness",
      price: 120,
      offprice: 108,
      discount: 10,
    },

    {
      title: "Baidyanath (Nagpur) Amritarishta (220ml)",
      src: "https://static.oxinis.com/healthmug/image/product/136175-1-400.jpg",
      tagLine:
        "Amritarishta is useful in chronic fever, digestion and maintaining blood sugar level",
      price: 105,
      offprice: 95,
      discount: 10,
    },
    // Basic Ayurveda
    {
      title: "Basic Ayurveda Kamdev Churna (200g)",
      src: "https://static.oxinis.com/healthmug/image/product/54301-2-400.jpg",
      tagLine:
        "Basic Ayurveda Kamdev Churna is an effective Ayurvedic medicine for males which improves sexual health, vigor and stamina",
      price: 260,
      offprice: 65,
      discount: 75,
    },

    {
      title: "Basic Ayurveda Trifala Drishti Eye Drop (10ml)",
      src: "https://static.oxinis.com/healthmug/image/product/54531-2-400.jpg",
      tagLine:
        "Basic Ayurveda Trifala Drishti Eye Drop is an Natural eye drops for dry eyes and for curing other eye-related ailments",
      price: 62,
      offprice: 60,
      discount: 2,
    },

    {
      title: "Basic Ayurveda Shankhpushpi Syrup (Brahmi Yukt) (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/54468-2-400.jpg",
      tagLine:
        "Basic Ayurveda Shankhpushpi Syrup (Brahmi Yukt) is an excellent remedy for a sharp memory and enhancing brain power",
      price: 255,
      offprice: 255,
      discount: 0,
    },

    {
      title: "Basic Ayurveda Vidangasava (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/54555-2-400.jpg",
      tagLine: "Vidangasava for treating parasitic worms in the body",
      price: 144,
      offprice: 140,
      discount: 4,
    },

    {
      title: "Basic Ayurveda Dashamool Kadha (450ml)",
      src: "https://static.oxinis.com/healthmug/image/product/54245-2-400.jpg",
      tagLine: "",
      price: 180,
      offprice: 45,
      discount: 75,
    },

    // Vyas
    {
      title: "Vyas Virya Sthambhan Vati (2g)",
      src: "https://static.oxinis.com/healthmug/image/product/129763-1-400.jpg",
      tagLine: "",
      price: 325,
      offprice: 325,
      discount: 0,
    },

    {
      title: "Vyas Kaunch Beej Churna (100g)",
      src: "https://static.oxinis.com/healthmug/image/product/7003-1-400.jpg",
      tagLine:
        "Male Tonic, Improve Sperm Thickness, Useful in Early Ejaculation and Weakness",
      price: 90,
      offprice: 90,
      discount: 0,
    },

    {
      title: "Vyas Kamdev Churna (100g)",
      src: "https://static.oxinis.com/healthmug/image/product/111785-1-400.jpg",
      tagLine: "",
      price: 130,
      offprice: 65,
      discount: 50,
    },

    {
      title: "Vyas Kutki Churna (100g",
      src: "https://static.oxinis.com/healthmug/image/product/68242-2-400.jpg",
      tagLine:
        "Detoxifies the Liver and Blood, Useful in Hepatitis C and Cirrhosis of the Liver",
      price: 295,
      offprice: 295,
      discount: 0,
    },

    {
      title: "Vyas Gokharu Churna (100g)",
      src: "https://static.oxinis.com/healthmug/image/product/6996-2-400.jpg",
      tagLine:
        "Useful in Urinary Track Infection, Frequent Urination with Burning",
      price: 90,
      offprice: 81,
      discount: 10,
    },
    //  Sri Sri Tatva
    {
      title: "Sri Sri Tattva Ospo-C (60tab)",
      src: "https://static.oxinis.com/healthmug/image/product/53496-2-400.jpg",
      tagLine: "Strengthens bones and improves overall bone health",
      price: 180,
      offprice: 178,
      discount: 1,
    },

    {
      title: "Sri Sri Tattva Brahma Rasayana (250g)",
      src: "https://static.oxinis.com/healthmug/image/product/53556-2-400.jpg",
      tagLine:
        "It improves digestion and relieves all the associated problems. It also helps in improving concentration.",
      price: 130,
      offprice: 130,
      discount: 0,
    },

    {
      title: "Sri Sri Tattva Oorja Tablet (60tab)",
      src: "https://static.oxinis.com/healthmug/image/product/53495-2-200.jpg",
      tagLine: "",
      price: 150,
      offprice: 75,
      discount: 50,
    },

    {
      title: "Sri Sri Tattva Vedanantaka Vati (60tab)",
      src: "https://static.oxinis.com/healthmug/image/product/53514-1-400.jpg",
      tagLine: "",
      price: 145,
      offprice: 145,
      discount: 0,
    },

    {
      title: "Sri Sri Tattva Arjuna Tablet (60tab)",
      src: "https://static.oxinis.com/healthmug/image/product/53521-2-400.jpg",
      tagLine:
        "Arjuna Tablet Arjuna promotes a healthy cardiovascular system. The capsule helps to provide relief in angina, atherosclerosis",
      price: 140,
      offprice: 70,
      discount: 50,
    },
  ];
}

// ====================================================================================================================
// THIS IS PRODUCT MAP , SORT PRODUCT, FILTER PRODUCT AND SEARCH FUNCTION
// MADE BY "SANDEEP YADAV"
{
  localStorage.setItem("ayurvedaproducts", JSON.stringify(ayurvedabrandData));

  var products = JSON.parse(localStorage.getItem("ayurvedaproducts"));
  displayitem(products);

  //Map products
  function displayitem(products) {
    document.querySelector("#main").innerHTML = "";
    products.map(function (item, index) {
      var card = document.createElement("div");
      card.setAttribute("id", "card");

      var img = document.createElement("img");
      img.setAttribute("src", item.src);

      var title = document.createElement("h3");
      title.innerText = item.title;
      title.setAttribute("id", "title");

      var tagline = document.createElement("p");
      tagline.innerText = item.tagLine;
      tagline.setAttribute("id", "tagline");

      var price = document.createElement("span");
      price.innerText = "₹" + item.price;
      price.setAttribute("id", "price");

      var offprice = document.createElement("span");
      offprice.innerText = "₹" + item.offprice;
      offprice.setAttribute("id", "offprice");

      var discount = document.createElement("span");
      discount.innerText = item.discount + " %";
      discount.setAttribute("id", "discount");

      //popup window
      card.addEventListener("click", function () {
        specific(index);
      });

      card.append(img, title, tagline, price, offprice, discount);
      document.getElementById("main").append(card);

      //hover effect
      card.addEventListener("mouseenter", function () {
        card.style.boxShadow = "rgba(100, 100, 111, 0.2) 0px 7px 29px 0px";
      });

      card.addEventListener("mouseleave", function () {
        card.style.boxShadow = "none";
      });
    });
  }

  //sort Low to High
  document.getElementById("low").addEventListener("click", lowtohigh);
  function lowtohigh() {
    var sortv = document.getElementById("low").value;
    if (sortv == "low") {
      var newsortedArr = products.sort(function (a, b) {
        return a.offprice - b.offprice;
      });
      displayitem(newsortedArr);
    } else {
      var newshortedArr =
        JSON.parse(localStorage.getItem("ayurvedaproducts")) || [];
      displayItem(newshortedArr);
    }
  }
  //sort High to Low
  document.getElementById("high").addEventListener("click", hightolow);

  function hightolow() {
    var sortv = document.getElementById("high").value;
    if (sortv == "high") {
      var newshortedArr = products.sort(function (a, b) {
        return b.offprice - a.offprice;
      });
      displayitem(newshortedArr);
    } else {
      var newshortedArr =
        JSON.parse(localStorage.getItem("ayurvedaproducts")) || [];
      displayitem(newshortedArr);
    }
  }
  //sort by name
  document.getElementById("name").addEventListener("click", sortname);
  function sortname() {
    var newsortArr = products.sort(function (a, b) {
      var na = a.title.toLowerCase();
      var nb = b.title.toLowerCase();
      if (na < nb) {
        return -1;
      }
      if (na > nb) {
        return 1;
      }
      return 0;
    });
    displayitem(newsortArr);
  }
  //sort by discount
  document.getElementById("dcount").addEventListener("click", sortdiscount);
  function sortdiscount() {
    var newsortArr = products.sort(function (a, b) {
      return b.discount - a.discount;
    });
    displayitem(newsortArr);
  }

  //search in product page === by search button
  document.getElementById("sbtn").addEventListener("click", getInputValue);
  function getInputValue() {
    var inputVal = document.getElementById("search").value.toLowerCase();
    var items = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].title.toLowerCase();
      if (procheck.includes(inputVal)) {
        items.push(products[i]);
      }
    }
    displayitem(items);
  }
  //search in product page === by enter button
  document.getElementById("search").addEventListener("keyup", getprosearch);
  function getprosearch() {
    if (event.keyCode === 13) {
      var inputVal = document.getElementById("search").value.toLowerCase();
      var items = [];
      for (var i = 0; i < products.length; i++) {
        var procheck = products[i].title.toLowerCase();
        if (procheck.includes(inputVal)) {
          items.push(products[i]);
        }
      }
      displayitem(items);
    }
  }

  //filter by type
  function show(ele) {
    var btnValue = ele.innerText.toLowerCase();
    var items = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].title.toLowerCase();
      if (procheck.includes(btnValue)) {
        items.push(products[i]);
      }
    }
    displayitem(items);
  }

  //checkbox sort price
  function getValue(el) {
    var x = el.value;
    console.log(x);
    var below200 = [];
    var item201 = [];
    var item501 = [];
    var above1000 = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].offprice;
      if (procheck <= x) {
        below200.push(products[i]);
      } else if (procheck >= x && procheck < 501) {
        item201.push(products[i]);
      } else if (procheck >= x && procheck < 1001) {
        item501.push(products[i]);
      } else {
        above1000.push(products[i]);
      }
    }
    if (x == 200) {
      displayitem(below200);
    } else if (x == 201) {
      displayitem(item201);
    } else if (x == 501) {
      displayitem(item501);
    } else {
      displayitem(above1000);
    }
  }

  //checkbox sort brand
  function getbrand(el) {
    var x = el.value.toLowerCase();
    console.log(x);
    var item = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].title.toLowerCase();
      if (procheck.includes(x)) {
        item.push(products[i]);
      }
    }
    displayitem(item);
  }

  //search brand by input
  document.getElementById("srbrand").addEventListener("keyup", getinputbrand);
  function getinputbrand(event) {
    if (event.keyCode === 13) {
      var inputVal = document.getElementById("srbrand").value.toLowerCase();
      var items = [];
      for (var i = 0; i < products.length; i++) {
        var procheck = products[i].title.toLowerCase();
        if (procheck.includes(inputVal)) {
          items.push(products[i]);
        }
      }
      displayitem(items);
    }
  }

  // =============================================================
}
// =======================================================================================================================
// THIS IS NAV BAR FUNCTIONS MADE BY "ADITYA"

{
  var navbar = document.getElementsByClassName("navigation")[0];

  // for fixing scroll of nav bar
  window.onscroll = function () {
    //pageoffset or scroll
    if (window.pageYOffset > 250) {
      {
        navbar.classList.add("scrolled");
        document.getElementsByClassName("navigation_bottom")[0].style.display =
          "none";
      }
    } else {
      navbar.classList.remove("scrolled");
      document.getElementsByClassName("navigation_bottom")[0].style.display =
        "flex";
    }
  };

  //search function

  document.getElementById("searchnav").addEventListener("submit", search);
  //getting data from local storage

  function search(e) {
    e.preventDefault();
    var ser = document.getElementById("searchnav");

    var inputVal = ser.search_input.value;
    var items = [];
    for (var i = 0; i < products.length; i++) {
      var procheck = products[i].title.toLowerCase();
      if (procheck.includes(inputVal)) {
        items.push(products[i]);
      }
    }
    displayitem(items);
  }

  //cart

  var cart = JSON.parse(localStorage.getItem("cart")) || [];
  button = document
    .getElementById("side_cart")
    .addEventListener("click", popup);
  document.getElementById("side_cart").addEventListener("click", blur_on);

  function blur_on() {
    document.getElementById("blur_background").style.display = "inline";
  }

  function popup() {
    var shopping = document.getElementById("shopping");
    shopping.style.display = "flex";

    if (cart.length != 0) shopping_cart(cart);
    else {
      document.querySelector("#shopping_cart>tbody").innerHTML =
        "<tr><td colspan='5' id='add_to_cart'><img src='https://static.oxinis.com/healthmug/image/healthmug/cart.jpg' alt='shopping cart'><br><h2>Your Cart is Empty</h2><h3 class='add_some_stuff'>Add Some Stuff</h3><button class='cart_button_color' onclick='cart_close()'><h3>Continue Shopping</h3></button></td></tr>";
      document.getElementById("cart_total_table").style.display = "none";
      document.querySelector(".bottom_shopping_cart_button").style.display =
        "none";
    }
  }

  function shopping_cart(cart) {
    document.querySelector("#shopping_cart>tbody").innerHTML = "";
    cart.map(shopping_health);
    function shopping_health(item, index) {
      var tr = document.createElement("tr");
      var td1 = document.createElement("td");
      td1.textContent = item.title;

      var td2 = document.createElement("td");
      var select = document.createElement("select");
      var option = document.createElement("option");
      var sel = "";
      for (var i = 1; i <= 10; i++) {
        sel = sel + "<option value='" + i + "'>" + i + "</option>";
      }
      select.innerHTML = sel;
      select.onchange = function () {
        sub_total_fun(index);
      };
      select.setAttribute("id", "cart_select" + index);
      td2.append(select);

      var td3 = document.createElement("td");
      td3.textContent = item.offprice;

      var td4 = document.createElement("td");
      //add address of user from local storage
      // td4.textContent=

      var td5 = document.createElement("td");
      td5.textContent = item.offprice;
      var p_close = document.createElement("p");
      p_close.innerHTML = "<i class='fas fa-times'></i>";
      p_close.addEventListener("click", function () {
        cart_delete_object(index);
      });
      p_close.style.display = "inline";
      p_close.style.marginLeft = "20px";
      td5.append(p_close);
      td5.setAttribute("id", "cart_sub_total" + index);
      tr.append(td1, td2, td3, td4, td5);
      document.querySelector("#shopping_cart>tbody").append(tr);
      cart[index]["no_selected"] = 1;
    }
    document.querySelector(".bottom_shopping_cart_button").style.display =
      "flex";
    var total = 0;

    for (i = 0; i < cart.length; i++) {
      total = total + +cart[i].offprice * cart[i].no_selected;
    }
    console.log(total);
    document.getElementById("total_cart").textContent = total;

    document.getElementById("grand_total_cart_td").textContent =
      total >= 500 ? total : total + 50;

    document.getElementById("cart_total_table").style.display = "flex";
    document.getElementById("add_more").textContent =
      "(" + cart.length + " items)";
    localStorage.setItem("cart", JSON.stringify(cart));
    console.log(cart);
  }

  function sub_total_fun(index) {
    cart[index].no_selected = +document.getElementById("cart_select" + index)
      .value;
    localStorage.setItem("cart", JSON.stringify(cart));
    var sub_total =
      +cart[index].offprice *
      +document.getElementById("cart_select" + index).value;
    document.getElementById("cart_sub_total" + index).textContent = sub_total;
    var p_close = document.createElement("p");
    p_close.innerHTML = "<i class='fas fa-times'></i>";
    p_close.addEventListener("click", function () {
      cart_delete_object(index);
    });
    p_close.style.display = "inline";
    p_close.style.marginLeft = "20px";
    document.getElementById("cart_sub_total" + index).append(p_close);

    var total = 0;

    for (i = 0; i < cart.length; i++) {
      total = total + +cart[i].offprice * cart[i].no_selected;
    }
    console.log(total);
    document.getElementById("total_cart").textContent = total;

    document.getElementById("grand_total_cart_td").textContent =
      total >= 500 ? total : total + 50;
  }

  function cart_close() {
    shopping.style.display = "";
    document.getElementById("blur_background").style.display = "none";
  }

  function cart_delete_object(index) {
    console.log("here");
    var new_cart = [];
    for (var i = 0; i < cart.length; i++) {
      if (i != index) new_cart.push(cart[i]);
    }
    cart = new_cart;
    console.log(cart);
    localStorage.setItem("cart", JSON.stringify(cart));
    popup();
  }

  function healthmug_home() {
    window.location.assign("/homepage/homepage.html");
  }

  //popup new window
  var cart = JSON.parse(localStorage.getItem("cart")) || [];
  function specific(index) {
    console.log("here");
    document.getElementById("fildiv").style.display = "none"; //display off
    document.getElementById("productdiv").style.display = "none";
    document.getElementById("popup_main").style.display = "flex";
    document.querySelector("#image_prod>img").src = products[index].src;
    document.querySelector("#prod_details>h2").textContent =
      products[index].title;
    document.querySelector("#prod_details>h3").textContent =
      products[index].tagLine;
    document.querySelector("#real_price").textContent = products[index].price;
    document.querySelectorAll("#prod_details>h2")[1].textContent =
      products[index].offprice;
    document
      .getElementById("add_to_cart_shopping")
      .addEventListener("click", function () {
        cart.push(products[index]);
        blur_on();
        popup();
      });
    console.log(document.querySelector("#prod_details>button"));
    document
      .querySelector("#prod_details>button")
      .addEventListener("click", function () {
        console.log("here");
        buy_now(index);
      });
  }

  function buy_now(index) {
    console.log("here");
    cart.push(products[index]);
    localStorage.setItem("cart", JSON.stringify(cart));
    window.location.assign("checkOut.html");
  }
}

// ===========================================================================================================
// THIS IS SING IN NAD SING UP FUCTIONS 
//MADE BY  ADITYA
{
  document.getElementById("login_form").addEventListener("submit", signsuccess);
      document.getElementById("sign_up_form").addEventListener("click", signUp);
  
      var usersignup = JSON.parse(localStorage.getItem("user_credentials")) || []
  
      function signsuccess(e) {
          e.preventDefault();
          var flag = false;
          var email = document.getElementById("hoversignupinput").value;
          console.log(usersignup);
  
  
          for (var i = 0; i < usersignup.length; i++) {
              if (usersignup[i].email !== email)
                  flag = false;
              else {
                  flag = true;
                  break;
              }
          }
          if (flag && usersignup.length > 0) {
              console.log(i);
              document.getElementById("login_password_submit").addEventListener("click", function () {
                  password(i);
              });
              document.getElementById("login_password").style.display = "block";
          }
          else {
              console.log("pokeymon");
              document.getElementById("modal-wrapper1").style.display = "block";
          }
  
      }
  
      function password(i) {
          if (document.getElementById("login_password_input").value == usersignup[i].password)
              alert("login successful");
          else {
              alert("login failed!");
  
              sign_in();
  
          }
      }
  
  
      function signUp(e) {
          e.preventDefault();
          console.log("here")
          var email = document.getElementById("signup_email").value;
          var password = document.getElementById("signup_password").value;
          var mobile = document.getElementById("signup_mobile").value;
          console.log(email, password, mobile);
  
          var data = {
              email: email,
              password: password,
              mobile: mobile
          }
  
          usersignup.push(data);
          console.log(usersignup);
          localStorage.setItem("user_credentials", JSON.stringify(usersignup));
          console.log("sai");
          sign_up_close();
  
      }
  
      function sign_in() {
          document.getElementById('modal-wrapper').style.display = 'none';
      }
      function sign_up() {
          document.getElementById("modal-wrapper1").style.display = "block";
      }
      function sign_up_close() {
          document.getElementById('modal-wrapper1').style.display = 'none';
      }
    }